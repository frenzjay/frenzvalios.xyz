<!DOCTYPE html>
<html>
<head>
    <title>Siquijor Integrated School - 2022 - 2023</title>
    <style>
        body {
            background-color: #222;
            color: #fff;
            font-family: Arial, sans-serif;
            padding: 20px;
        }

        h1 {
            text-align: center;
        }

        .gallery {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .thumbnail {
            max-width: 150px;
            max-height: 150px;
            border-radius: 5px;
            transition: opacity 0.3s ease;
        }

        .thumbnail:hover {
            opacity: 0.7;
        }
    </style>
    <script>
        window.addEventListener('DOMContentLoaded', function() {
            var lazyImages = [].slice.call(document.querySelectorAll('.lazy'));

            function lazyLoad() {
                lazyImages.forEach(function(image) {
                    if (image.getBoundingClientRect().top <= window.innerHeight && image.getBoundingClientRect().bottom >= 0 && getComputedStyle(image).display !== 'none') {
                        image.src = image.dataset.src;
                        image.classList.remove('lazy');

                        lazyImages = lazyImages.filter(function(img) {
                            return img !== image;
                        });

                        if (lazyImages.length === 0) {
                            document.removeEventListener('scroll', lazyLoad);
                            window.removeEventListener('resize', lazyLoad);
                            window.removeEventListener('orientationchange', lazyLoad);
                        }
                    }
                });
            }

            document.addEventListener('scroll', lazyLoad);
            window.addEventListener('resize', lazyLoad);
            window.addEventListener('orientationchange', lazyLoad);

            lazyLoad(); 
        });
    </script>
</head>
<body>
    <h1>Siquijor Integrated School - 2022 - 2023</h1>
    <div class="gallery">
        {% for image_url, thumbnail_url in zip(image_urls, thumbnail_urls) %}
            <a href="{{ image_url }}">
                <img class="lazy thumbnail" src="{{ thumbnail_url }}" alt="Image" />
            </a>
        {% endfor %}
    </div>
</body>
</html>
